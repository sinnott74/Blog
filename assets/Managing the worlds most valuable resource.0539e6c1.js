import{j as s}from"./jsx-runtime.521a1206.js";import{u as o}from"./index.378a34ac.js";import"./vendor.81a8656d.js";const l="Managing the world's most valuable resource",i="Daniel Sinnott",x="https://i.imgur.com/qlIM4k7.png",h=10,d=["Monthly Challenge","Technical","February","Data","SQL"],m="Thu, 1st Mar 2018",u=new Date(1519948692714);function j(n={}){const{wrapper:a}=Object.assign({},o(),n.components);return a?s.exports.jsx(a,Object.assign({},n,{children:s.exports.jsx(t,{})})):t();function t(){const e=Object.assign({p:"p",a:"a",h2:"h2",ul:"ul",li:"li",hr:"hr",h3:"h3",pre:"pre",code:"code",span:"span"},o(),n.components);return s.exports.jsxs(s.exports.Fragment,{children:[s.exports.jsxs(e.p,{children:["The technical challenge for February, as outlined in ",s.exports.jsx(e.a,{href:"/blog/6",children:"One month at a time"}),`, was to do a complete
rewrite of the Data Access Layer for this blog.`]}),`
`,s.exports.jsx(e.p,{children:`The goal was to end up with an ORM like infrastructure that would let me easily work with my data
model.`}),`
`,s.exports.jsx(e.h2,{children:"Influences"}),`
`,s.exports.jsx(e.p,{children:`I browsed the source code of several javascript ORMs at the start of the month to gauge the size of
the mountain I was about to climb. The 2 which stood out to me were:`}),`
`,s.exports.jsxs(e.ul,{children:[`
`,s.exports.jsxs(e.li,{children:[s.exports.jsx(e.a,{href:"https://github.com/sequelize/sequelize",children:"Sequelize"}),` is a well established ORM which contains all the bells & whistles. Its no wonder
that this package has been downloaded 900,000+ in the last month.`]}),`
`,s.exports.jsxs(e.li,{children:[s.exports.jsx(e.a,{href:"https://github.com/1602/jugglingdb",children:"JugglingDB"}),` impressed me with its simplicity. Its also no wonder that it became part of
StrongLoop's popular LoopBack framework.`]}),`
`]}),`
`,s.exports.jsx(e.h2,{children:"Requirements"}),`
`,s.exports.jsxs(e.ul,{children:[`
`,s.exports.jsx(e.li,{children:"Ability to define database Entities/Tables."}),`
`,s.exports.jsx(e.li,{children:"Ability to easily perform CRUD operations on those entities."}),`
`,s.exports.jsx(e.li,{children:"Ability to define & work with entity associations / relationships / foreign references."}),`
`,s.exports.jsx(e.li,{children:"Efficient persisting of data"}),`
`]}),`
`,s.exports.jsx(e.hr,{}),`
`,s.exports.jsx(e.h3,{children:"Ability to define database Entities/Tables"}),`
`,s.exports.jsx(e.p,{children:`The following is my definition for my User entity. Based on this definition, a database table
definition & A User constructor is created, with getters & setters for the defined attributes. Each
entity will be automatically given a primary key of ID.`}),`
`,s.exports.jsx(e.p,{children:"ORM.define API is defined as follows"}),`
`,s.exports.jsx(e.pre,{className:"language-javascript",children:s.exports.jsxs(e.code,{className:"language-javascript",children:[s.exports.jsx(e.span,{className:"token constant",children:"ORM"}),s.exports.jsx(e.span,{className:"token punctuation",children:"."}),s.exports.jsx(e.span,{className:"token method function property-access",children:"define"}),s.exports.jsx(e.span,{className:"token punctuation",children:"("}),s.exports.jsx(e.span,{className:"token maybe-class-name",children:"ModelName"}),s.exports.jsx(e.span,{className:"token punctuation",children:","})," ",s.exports.jsx(e.span,{className:"token maybe-class-name",children:"AttributeObject"}),s.exports.jsx(e.span,{className:"token punctuation",children:","})," ",s.exports.jsx(e.span,{className:"token maybe-class-name",children:"Options"}),s.exports.jsx(e.span,{className:"token punctuation",children:")"}),`
`,s.exports.jsx(e.span,{className:"token maybe-class-name",children:"ModelName"}),s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token operator",children:"<"}),s.exports.jsx(e.span,{className:"token known-class-name class-name",children:"String"}),s.exports.jsx(e.span,{className:"token operator",children:">"})," ",s.exports.jsx(e.span,{className:"token maybe-class-name",children:"The"})," name ",s.exports.jsx(e.span,{className:"token keyword",children:"of"})," the ",s.exports.jsx(e.span,{className:"token maybe-class-name",children:"Model"}),s.exports.jsx(e.span,{className:"token operator",children:"/"}),s.exports.jsx(e.span,{className:"token maybe-class-name",children:"Entity"}),s.exports.jsx(e.span,{className:"token operator",children:"/"}),s.exports.jsx(e.span,{className:"token maybe-class-name",children:"Database"}),` table
`,s.exports.jsx(e.span,{className:"token maybe-class-name",children:"Attribute"}),s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token operator",children:"<"}),s.exports.jsx(e.span,{className:"token known-class-name class-name",children:"Object"}),s.exports.jsx(e.span,{className:"token operator",children:">"})," ",s.exports.jsx(e.span,{className:"token maybe-class-name",children:"Contains"})," key value pairings ",s.exports.jsx(e.span,{className:"token keyword",children:"of"})," ",s.exports.jsx(e.span,{className:"token maybe-class-name",children:"Model"}),` attribute name to attribute definition
`,s.exports.jsx(e.span,{className:"token maybe-class-name",children:"Options"}),s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token operator",children:"<"}),s.exports.jsx(e.span,{className:"token known-class-name class-name",children:"Object"}),s.exports.jsx(e.span,{className:"token operator",children:">"})," ",s.exports.jsx(e.span,{className:"token maybe-class-name",children:"Contains"})," extra model options",s.exports.jsx(e.span,{className:"token punctuation",children:"."})," ",s.exports.jsx(e.span,{className:"token property-access",children:s.exports.jsx(e.span,{className:"token maybe-class-name",children:"Such"})})," ",s.exports.jsx(e.span,{className:"token keyword module",children:"as"})," the custom attributes displayed below",s.exports.jsx(e.span,{className:"token punctuation",children:"."})," ",s.exports.jsx(e.span,{className:"token property-access",children:s.exports.jsx(e.span,{className:"token maybe-class-name",children:"The"})})," object is where the majority ",s.exports.jsx(e.span,{className:"token keyword",children:"of"})," the progressive enhancement to ",s.exports.jsx(e.span,{className:"token keyword",children:"this"})," infrastructure will take place",s.exports.jsx(e.span,{className:"token punctuation",children:"."})," ",s.exports.jsx(e.span,{className:"token constant",children:"E"}),s.exports.jsx(e.span,{className:"token punctuation",children:"."}),s.exports.jsx(e.span,{className:"token property-access",children:"g"}),s.exports.jsx(e.span,{className:"token punctuation",children:"."})," ",s.exports.jsx(e.span,{className:"token property-access",children:"optimistic"})," locking ",s.exports.jsx(e.span,{className:"token operator",children:"&"})," temporal ",s.exports.jsx(e.span,{className:"token function",children:"attributes"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"("}),"created_on ",s.exports.jsx(e.span,{className:"token operator",children:"&"})," last_modified_on",s.exports.jsx(e.span,{className:"token punctuation",children:")"}),`
`]})}),`
`,s.exports.jsx(e.p,{children:"Custom Attributes allow for derived data to be accessible on the Model object."}),`
`,s.exports.jsx(e.pre,{className:"language-javascript",children:s.exports.jsxs(e.code,{className:"language-javascript",children:[s.exports.jsx(e.span,{className:"token keyword",children:"const"})," ",s.exports.jsx(e.span,{className:"token constant",children:"ORM"})," ",s.exports.jsx(e.span,{className:"token operator",children:"="})," ",s.exports.jsx(e.span,{className:"token function",children:"require"}),s.exports.jsx(e.span,{className:"token punctuation",children:"("}),s.exports.jsx(e.span,{className:"token string",children:'"sinnott-orm"'}),s.exports.jsx(e.span,{className:"token punctuation",children:")"}),s.exports.jsx(e.span,{className:"token punctuation",children:";"}),`
`,s.exports.jsx(e.span,{className:"token keyword",children:"const"})," ",s.exports.jsx(e.span,{className:"token maybe-class-name",children:"DataTypes"})," ",s.exports.jsx(e.span,{className:"token operator",children:"="})," ",s.exports.jsx(e.span,{className:"token constant",children:"ORM"}),s.exports.jsx(e.span,{className:"token punctuation",children:"."}),s.exports.jsx(e.span,{className:"token property-access",children:s.exports.jsx(e.span,{className:"token maybe-class-name",children:"DataTypes"})}),s.exports.jsx(e.span,{className:"token punctuation",children:";"}),`

`,s.exports.jsx(e.span,{className:"token keyword",children:"const"})," ",s.exports.jsx(e.span,{className:"token maybe-class-name",children:"User"})," ",s.exports.jsx(e.span,{className:"token operator",children:"="})," ",s.exports.jsx(e.span,{className:"token constant",children:"ORM"}),s.exports.jsx(e.span,{className:"token punctuation",children:"."}),s.exports.jsx(e.span,{className:"token method function property-access",children:"define"}),s.exports.jsx(e.span,{className:"token punctuation",children:"("}),`
    `,s.exports.jsx(e.span,{className:"token string",children:'"user"'}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
    `,s.exports.jsx(e.span,{className:"token punctuation",children:"{"}),`
        username`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"{"}),`
            type`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token maybe-class-name",children:"DataTypes"}),s.exports.jsx(e.span,{className:"token punctuation",children:"."}),s.exports.jsx(e.span,{className:"token constant",children:"STRING"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
            length`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token number",children:"30"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
            notNull`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token boolean",children:"true"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
            unique`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token boolean",children:"true"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
        `,s.exports.jsx(e.span,{className:"token punctuation",children:"}"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
        firstname`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"{"}),`
            type`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token maybe-class-name",children:"DataTypes"}),s.exports.jsx(e.span,{className:"token punctuation",children:"."}),s.exports.jsx(e.span,{className:"token constant",children:"STRING"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
            length`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token number",children:"30"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
            notNull`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token boolean",children:"true"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
        `,s.exports.jsx(e.span,{className:"token punctuation",children:"}"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
        lastname`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"{"}),`
            type`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token maybe-class-name",children:"DataTypes"}),s.exports.jsx(e.span,{className:"token punctuation",children:"."}),s.exports.jsx(e.span,{className:"token constant",children:"STRING"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
            length`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token number",children:"30"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
            notNull`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token boolean",children:"true"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
        `,s.exports.jsx(e.span,{className:"token punctuation",children:"}"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
        dob`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"{"}),`
            type`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token maybe-class-name",children:"DataTypes"}),s.exports.jsx(e.span,{className:"token punctuation",children:"."}),s.exports.jsx(e.span,{className:"token constant",children:"TIMESTAMP"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
            notNull`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token boolean",children:"true"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
        `,s.exports.jsx(e.span,{className:"token punctuation",children:"}"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
    `,s.exports.jsx(e.span,{className:"token punctuation",children:"}"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
    `,s.exports.jsx(e.span,{className:"token punctuation",children:"{"}),`
        customAttributes`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"{"}),`
            fullname`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"{"}),`
                `,s.exports.jsx(e.span,{className:"token function-variable function",children:"get"}),s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token keyword",children:"function"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"("}),s.exports.jsx(e.span,{className:"token punctuation",children:")"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"{"}),`
                    `,s.exports.jsx(e.span,{className:"token keyword control-flow",children:"return"})," ",s.exports.jsxs(e.span,{className:"token template-string",children:[s.exports.jsx(e.span,{className:"token template-punctuation string",children:"`"}),s.exports.jsxs(e.span,{className:"token interpolation",children:[s.exports.jsx(e.span,{className:"token interpolation-punctuation punctuation",children:"${"}),s.exports.jsx(e.span,{className:"token keyword",children:"this"}),s.exports.jsx(e.span,{className:"token punctuation",children:"."}),s.exports.jsx(e.span,{className:"token property-access",children:"firstname"}),s.exports.jsx(e.span,{className:"token interpolation-punctuation punctuation",children:"}"})]}),s.exports.jsx(e.span,{className:"token string",children:" "}),s.exports.jsxs(e.span,{className:"token interpolation",children:[s.exports.jsx(e.span,{className:"token interpolation-punctuation punctuation",children:"${"}),s.exports.jsx(e.span,{className:"token keyword",children:"this"}),s.exports.jsx(e.span,{className:"token punctuation",children:"."}),s.exports.jsx(e.span,{className:"token property-access",children:"lastname"}),s.exports.jsx(e.span,{className:"token interpolation-punctuation punctuation",children:"}"})]}),s.exports.jsx(e.span,{className:"token template-punctuation string",children:"`"})]}),s.exports.jsx(e.span,{className:"token punctuation",children:";"}),`
                `,s.exports.jsx(e.span,{className:"token punctuation",children:"}"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
            `,s.exports.jsx(e.span,{className:"token punctuation",children:"}"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
        `,s.exports.jsx(e.span,{className:"token punctuation",children:"}"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
    `,s.exports.jsx(e.span,{className:"token punctuation",children:"}"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
`,s.exports.jsx(e.span,{className:"token punctuation",children:")"}),s.exports.jsx(e.span,{className:"token punctuation",children:";"}),`
`]})}),`
`,s.exports.jsx(e.h3,{children:"Ability to easily perform CRUD operations on those entities"}),`
`,s.exports.jsx(e.p,{children:`The following is a snippet from this blog's BlogPostRouter. The post verb is responsible for
creating a new BlogPost. Its as simple as creating a new BlogPost & saving it.`}),`
`,s.exports.jsx(e.pre,{className:"language-javascript",children:s.exports.jsxs(e.code,{className:"language-javascript",children:["router",s.exports.jsx(e.span,{className:"token punctuation",children:"."}),s.exports.jsx(e.span,{className:"token method function property-access",children:"post"}),s.exports.jsx(e.span,{className:"token punctuation",children:"("}),s.exports.jsx(e.span,{className:"token string",children:'"/"'}),s.exports.jsx(e.span,{className:"token punctuation",children:","})," ",s.exports.jsx(e.span,{className:"token keyword",children:"async"})," ",s.exports.jsx(e.span,{className:"token keyword",children:"function"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"("}),s.exports.jsxs(e.span,{className:"token parameter",children:["req",s.exports.jsx(e.span,{className:"token punctuation",children:","})," res"]}),s.exports.jsx(e.span,{className:"token punctuation",children:")"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"{"}),`
    `,s.exports.jsx(e.span,{className:"token keyword",children:"const"})," blogpostData ",s.exports.jsx(e.span,{className:"token operator",children:"="})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"{"})," ",s.exports.jsx(e.span,{className:"token spread operator",children:"..."}),"req",s.exports.jsx(e.span,{className:"token punctuation",children:"."}),s.exports.jsx(e.span,{className:"token property-access",children:"body"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"}"}),s.exports.jsx(e.span,{className:"token punctuation",children:";"}),`
    `,s.exports.jsx(e.span,{className:"token keyword",children:"const"})," blogPost ",s.exports.jsx(e.span,{className:"token operator",children:"="})," ",s.exports.jsx(e.span,{className:"token keyword",children:"new"})," ",s.exports.jsx(e.span,{className:"token class-name",children:"BlogPost"}),s.exports.jsx(e.span,{className:"token punctuation",children:"("}),"blogpostData",s.exports.jsx(e.span,{className:"token punctuation",children:")"}),s.exports.jsx(e.span,{className:"token punctuation",children:";"}),`
    `,s.exports.jsx(e.span,{className:"token keyword control-flow",children:"await"})," blogPost",s.exports.jsx(e.span,{className:"token punctuation",children:"."}),s.exports.jsx(e.span,{className:"token method function property-access",children:"save"}),s.exports.jsx(e.span,{className:"token punctuation",children:"("}),s.exports.jsx(e.span,{className:"token punctuation",children:")"}),s.exports.jsx(e.span,{className:"token punctuation",children:";"}),`
    res`,s.exports.jsx(e.span,{className:"token punctuation",children:"."}),s.exports.jsx(e.span,{className:"token method function property-access",children:"json"}),s.exports.jsx(e.span,{className:"token punctuation",children:"("}),"blogPost",s.exports.jsx(e.span,{className:"token punctuation",children:")"}),s.exports.jsx(e.span,{className:"token punctuation",children:";"}),`
`,s.exports.jsx(e.span,{className:"token punctuation",children:"}"}),s.exports.jsx(e.span,{className:"token punctuation",children:")"}),s.exports.jsx(e.span,{className:"token punctuation",children:";"}),`
`]})}),`
`,s.exports.jsx(e.p,{children:`The infrastructure knows this is a brand new BlogPost & sends an SQL INSERT command to the database.
Any further modification to blogPost must also be persisted by calling save. This will result in an
SQL update.`}),`
`,s.exports.jsx(e.h3,{children:"Ability to define & work with entity associations / relationships / foreign references"}),`
`,s.exports.jsx(e.p,{children:"The infrastructure allows for all three of the possible table relationships:"}),`
`,s.exports.jsxs(e.ul,{children:[`
`,s.exports.jsx(e.li,{children:"One to One"}),`
`,s.exports.jsx(e.li,{children:"One to Many"}),`
`,s.exports.jsx(e.li,{children:"Many to One"}),`
`]}),`
`,s.exports.jsx(e.p,{children:"Below is an example of a One to Many relationship."}),`
`,s.exports.jsx(e.pre,{className:"language-javascript",children:s.exports.jsxs(e.code,{className:"language-javascript",children:[s.exports.jsx(e.span,{className:"token maybe-class-name",children:"User"}),s.exports.jsx(e.span,{className:"token punctuation",children:"."}),s.exports.jsx(e.span,{className:"token method function property-access",children:"oneToMany"}),s.exports.jsx(e.span,{className:"token punctuation",children:"("}),s.exports.jsx(e.span,{className:"token maybe-class-name",children:"BlogPost"}),s.exports.jsx(e.span,{className:"token punctuation",children:","})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"{"})," ",s.exports.jsx(e.span,{className:"token keyword module",children:"as"}),s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token string",children:'"author"'})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"}"}),s.exports.jsx(e.span,{className:"token punctuation",children:")"}),s.exports.jsx(e.span,{className:"token punctuation",children:";"}),`
`]})}),`
`,s.exports.jsx(e.p,{children:`We are defining a One to Many relationship between User & BlogPost. i.e A User can have many
BlogPosts. A foreign key reference to User is added onto the BlogPost entity. The 'as' option is
also defined, so we are saying the User associated with a BlogPost will be referred to as the
Author.`}),`
`,s.exports.jsx(e.p,{children:`Below is an example of how to read a blog post & include is author. Calling save on the returned
entity will attempt to save any changes to both the blogpost & the associated author.`}),`
`,s.exports.jsx(e.pre,{className:"language-javascript",children:s.exports.jsxs(e.code,{className:"language-javascript",children:[s.exports.jsx(e.span,{className:"token maybe-class-name",children:"BlogPost"}),s.exports.jsx(e.span,{className:"token punctuation",children:"."}),s.exports.jsx(e.span,{className:"token method function property-access",children:"get"}),s.exports.jsx(e.span,{className:"token punctuation",children:"("}),"id",s.exports.jsx(e.span,{className:"token punctuation",children:","})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"{"})," includes",s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"["}),s.exports.jsx(e.span,{className:"token string",children:'"author"'}),s.exports.jsx(e.span,{className:"token punctuation",children:"]"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"}"}),s.exports.jsx(e.span,{className:"token punctuation",children:")"}),s.exports.jsx(e.span,{className:"token punctuation",children:";"}),`
`]})}),`
`,s.exports.jsx(e.h3,{children:"Efficient persisting of data"}),`
`,s.exports.jsx(e.p,{children:`Calling save on highly nested entities may result in a large number of SQL insert / modify commands
being executed. This could be very resource consuming & inefficient. What is no attributes on the
entities had changed?`}),`
`,s.exports.jsx(e.p,{children:`For this reason the ORM infrastructure has the concept of dirty data. It will only execute SQL
commands for an entity when it contains attributes who's values changed since the entity was read
from the database or who's values were input by the user. This not only reduces the number of SQL
commands down to only what is necessary, but it reduces each individual SQL command down to updating
only the attributes which have changed.`}),`
`,s.exports.jsx(e.hr,{}),`
`,s.exports.jsx(e.h2,{children:"Final Points"}),`
`,s.exports.jsx(e.p,{children:`The ORM infrastructure has been fully separated out from the Server directory into its own
directory. This will allow me to update each independently.`}),`
`,s.exports.jsx(e.p,{children:`The ORM also nowhere near finished. This is the MVP for my Blog app, with the aim to progressively
enhance the infrastructure as requirements see fit.`})]})}}export{i as author,u as created,m as date,j as default,h as id,x as imageurl,d as tags,l as title};
